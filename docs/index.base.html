<html>
  <body style="overflow: hidden">
    <canvas></canvas>
  </body>
  <script>
    var e,t,i=document.querySelector("canvas"),l=i.width=this.innerWidth,n=i.height=this.innerHeight,h=0,a=0,r=0,o=0,c=.004,d=d=l/2-5,s=n/2,f=1&new Date?l*c:-l*c,y=1&new Date?n*c:-n*c,m=0,u=0,w=10,g=Math.min,v=Math.max,x=this.requestAnimationFrame,k=this.addEventListener,R=i.getContext("2d");r=o=d=l/2-50;let p=()=>{l=i.width=this.innerWidth,n=i.height=this.innerHeight,e=l/8,t=l/80,R.font="40px Arial"};p(),k("resize",(()=>p()));let S={};var q=e=>{S[e.keyCode]="keydown"==e.type};k("keydown",q),k("keyup",q),i.ontouchmove=e=>{r=e.touches[0].clientX-50};let A,C=i=>{A||(A=i),i-A>1e3/60&&(S[37]&&(h-=15),S[39]&&(h+=15),y>0&&(o+50-d+5>0&&(a-=5),o+50-d+5<10&&(a+=5)),r=g(v(r+h,0),l-e),o=g(v(o+a,0),l-e),(d<0||d>l-w)&&(f*=-1),(s<-10||s>n-w)&&(y*=-1,s>0&&m++,s<0&&u++,d=l/2,s=n/2),d>r&&d<r+e&&s<=w&&(y=g(-1.1*y,w)),d>o&&d<o+e&&s>=n-25&&(y=g(-1.1*y,w)),d+=f,s+=y,R.clearRect(0,0,l,n),R.fillStyle="#000",R.fillRect(r,0,e,w),R.fillRect(o,n-20,e,w),R.fillRect(d,s,t,t),R.fillStyle="#777",R.fillText(m,l/2-w,100,100),R.fillText(u,l/2-w,n-100),h=a=0,A=i),x(C)};x(C);
  </script>
</html>